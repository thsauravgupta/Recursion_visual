{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{useRecursion}from'../context/RecursionContext';import{Play,Pause,SkipBack,SkipForward}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ControlPanel(){const{state,dispatch,ActionTypes,animationSpeeds}=useRecursion();const{isRunning,isPaused,currentStep,totalSteps,maxDepth,animationSpeed}=state;const intervalRef=useRef(null);// Auto-play animation\nuseEffect(()=>{if(isRunning&&!isPaused){intervalRef.current=setInterval(()=>{dispatch({type:ActionTypes.SET_EXECUTION_STEP,payload:currentStep+1});if(currentStep>=totalSteps-1){dispatch({type:ActionTypes.PAUSE_EXECUTION});}},animationSpeeds[animationSpeed].value);}else{clearInterval(intervalRef.current);}return()=>clearInterval(intervalRef.current);},[isRunning,isPaused,currentStep,totalSteps,animationSpeed,dispatch,ActionTypes,animationSpeeds]);const handlePlayPause=()=>{if(totalSteps===0)return;if(isRunning){dispatch({type:ActionTypes.PAUSE_EXECUTION});}else{dispatch({type:ActionTypes.START_EXECUTION});}};const handleStepBack=()=>{if(currentStep>0){dispatch({type:ActionTypes.SET_EXECUTION_STEP,payload:currentStep-1});}};const handleStepForward=()=>{if(currentStep<totalSteps-1){dispatch({type:ActionTypes.SET_EXECUTION_STEP,payload:currentStep+1});}};const handleSpeedChange=e=>{dispatch({type:ActionTypes.SET_ANIMATION_SPEED,payload:parseInt(e.target.value)});};const currentCallDepth=Math.max(0,maxDepth-Math.floor(currentStep/2));return/*#__PURE__*/_jsxs(\"div\",{className:\"panel control-panel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Execution Controls\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"controls-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--secondary\",onClick:handleStepBack,disabled:currentStep===0||totalSteps===0,title:\"Step Back\",children:/*#__PURE__*/_jsx(SkipBack,{size:16})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--primary\",onClick:handlePlayPause,disabled:totalSteps===0,title:isRunning?'Pause':'Play',children:isRunning?/*#__PURE__*/_jsx(Pause,{size:16}):/*#__PURE__*/_jsx(Play,{size:16})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--secondary\",onClick:handleStepForward,disabled:currentStep>=totalSteps-1||totalSteps===0,title:\"Step Forward\",children:/*#__PURE__*/_jsx(SkipForward,{size:16})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"speed-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Animation Speed:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"speed-slider-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:animationSpeeds.length-1,value:animationSpeed,onChange:handleSpeedChange,className:\"speed-slider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"speed-labels\",children:animationSpeeds.map((speed,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"speed-label\",children:speed.label},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"execution-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Step:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[currentStep,\" / \",totalSteps]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Call Depth:\"}),/*#__PURE__*/_jsx(\"span\",{children:currentCallDepth})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Max Depth:\"}),/*#__PURE__*/_jsx(\"span\",{children:maxDepth})]})]})]})]});}export default ControlPanel;","map":{"version":3,"names":["React","useEffect","useRef","useRecursion","Play","Pause","SkipBack","SkipForward","jsx","_jsx","jsxs","_jsxs","ControlPanel","state","dispatch","ActionTypes","animationSpeeds","isRunning","isPaused","currentStep","totalSteps","maxDepth","animationSpeed","intervalRef","current","setInterval","type","SET_EXECUTION_STEP","payload","PAUSE_EXECUTION","value","clearInterval","handlePlayPause","START_EXECUTION","handleStepBack","handleStepForward","handleSpeedChange","e","SET_ANIMATION_SPEED","parseInt","target","currentCallDepth","Math","max","floor","className","children","onClick","disabled","title","size","min","length","onChange","map","speed","index","label"],"sources":["D:/Projects/git/main_vercel/Recursion_visual/frontend1/src/components/ControlPanel.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { useRecursion } from '../context/RecursionContext';\nimport { Play, Pause, SkipBack, SkipForward } from 'lucide-react';\n\nfunction ControlPanel() {\n  const { state, dispatch, ActionTypes, animationSpeeds } = useRecursion();\n  const { \n    isRunning, \n    isPaused, \n    currentStep, \n    totalSteps, \n    maxDepth, \n    animationSpeed \n  } = state;\n\n  const intervalRef = useRef(null);\n\n  // Auto-play animation\n  useEffect(() => {\n    if (isRunning && !isPaused) {\n      intervalRef.current = setInterval(() => {\n        dispatch({ type: ActionTypes.SET_EXECUTION_STEP, payload: currentStep + 1 });\n\n        if (currentStep >= totalSteps - 1) {\n          dispatch({ type: ActionTypes.PAUSE_EXECUTION });\n        }\n      }, animationSpeeds[animationSpeed].value);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n\n    return () => clearInterval(intervalRef.current);\n  }, [isRunning, isPaused, currentStep, totalSteps, animationSpeed, dispatch, ActionTypes, animationSpeeds]);\n\n  const handlePlayPause = () => {\n    if (totalSteps === 0) return;\n\n    if (isRunning) {\n      dispatch({ type: ActionTypes.PAUSE_EXECUTION });\n    } else {\n      dispatch({ type: ActionTypes.START_EXECUTION });\n    }\n  };\n\n  const handleStepBack = () => {\n    if (currentStep > 0) {\n      dispatch({ type: ActionTypes.SET_EXECUTION_STEP, payload: currentStep - 1 });\n    }\n  };\n\n  const handleStepForward = () => {\n    if (currentStep < totalSteps - 1) {\n      dispatch({ type: ActionTypes.SET_EXECUTION_STEP, payload: currentStep + 1 });\n    }\n  };\n\n  const handleSpeedChange = (e) => {\n    dispatch({ type: ActionTypes.SET_ANIMATION_SPEED, payload: parseInt(e.target.value) });\n  };\n\n  const currentCallDepth = Math.max(0, maxDepth - Math.floor(currentStep / 2));\n\n  return (\n    <div className=\"panel control-panel\">\n      <div className=\"panel-header\">\n        <h3>Execution Controls</h3>\n      </div>\n\n      <div className=\"panel-body\">\n        <div className=\"controls-row\">\n          <button\n            className=\"btn btn--secondary\"\n            onClick={handleStepBack}\n            disabled={currentStep === 0 || totalSteps === 0}\n            title=\"Step Back\"\n          >\n            <SkipBack size={16} />\n          </button>\n\n          <button\n            className=\"btn btn--primary\"\n            onClick={handlePlayPause}\n            disabled={totalSteps === 0}\n            title={isRunning ? 'Pause' : 'Play'}\n          >\n            {isRunning ? <Pause size={16} /> : <Play size={16} />}\n          </button>\n\n          <button\n            className=\"btn btn--secondary\"\n            onClick={handleStepForward}\n            disabled={currentStep >= totalSteps - 1 || totalSteps === 0}\n            title=\"Step Forward\"\n          >\n            <SkipForward size={16} />\n          </button>\n        </div>\n\n        <div className=\"speed-control\">\n          <label className=\"form-label\">Animation Speed:</label>\n          <div className=\"speed-slider-container\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max={animationSpeeds.length - 1}\n              value={animationSpeed}\n              onChange={handleSpeedChange}\n              className=\"speed-slider\"\n            />\n            <div className=\"speed-labels\">\n              {animationSpeeds.map((speed, index) => (\n                <span key={index} className=\"speed-label\">{speed.label}</span>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"execution-info\">\n          <div className=\"info-item\">\n            <span className=\"info-label\">Step:</span>\n            <span>{currentStep} / {totalSteps}</span>\n          </div>\n\n          <div className=\"info-item\">\n            <span className=\"info-label\">Call Depth:</span>\n            <span>{currentCallDepth}</span>\n          </div>\n\n          <div className=\"info-item\">\n            <span className=\"info-label\">Max Depth:</span>\n            <span>{maxDepth}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ControlPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}