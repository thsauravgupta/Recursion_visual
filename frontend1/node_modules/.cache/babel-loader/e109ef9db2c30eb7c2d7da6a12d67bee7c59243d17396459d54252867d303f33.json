{"ast":null,"code":"import React from'react';import{useRecursion}from'../context/RecursionContext';import{algorithmsData}from'../utils/algorithmsData';import{executionSimulator}from'../utils/executionSimulator';import{Play,RotateCcw}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CodePanel(){const{state,dispatch,ActionTypes}=useRecursion();const{code,params,globalVars,selectedAlgorithm,isRunning,error}=state;const handleAlgorithmChange=e=>{dispatch({type:ActionTypes.SELECT_ALGORITHM,payload:e.target.value});};const handleCodeChange=e=>{dispatch({type:ActionTypes.SET_CODE,payload:e.target.value});};const handleParamsChange=e=>{dispatch({type:ActionTypes.SET_PARAMS,payload:e.target.value});};const handleGlobalVarsChange=e=>{dispatch({type:ActionTypes.SET_GLOBAL_VARS,payload:e.target.value});};const handleRun=()=>{if(!code.trim()){dispatch({type:ActionTypes.SET_ERROR,payload:'Please enter a function to execute'});return;}if(!params.trim()){dispatch({type:ActionTypes.SET_ERROR,payload:'Please enter function parameters'});return;}// Clear any previous errors\ndispatch({type:ActionTypes.SET_ERROR,payload:null});// Start execution\ndispatch({type:ActionTypes.START_EXECUTION});// Simulate execution with a delay for realism\nsetTimeout(()=>{try{const executionResult=executionSimulator.simulateExecution(code,params,selectedAlgorithm);dispatch({type:ActionTypes.SET_TREE_DATA,payload:executionResult});}catch(error){dispatch({type:ActionTypes.SET_ERROR,payload:error.message});}},1000);};const handleReset=()=>{dispatch({type:ActionTypes.RESET_EXECUTION});};return/*#__PURE__*/_jsxs(\"div\",{className:\"panel code-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Code Editor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"template-selector\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Template:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-control\",value:selectedAlgorithm,onChange:handleAlgorithmChange,children:algorithmsData.map(algorithm=>/*#__PURE__*/_jsx(\"option\",{value:algorithm.name,children:algorithm.name},algorithm.name))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"code-editor-container\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"code-editor form-control\",value:code,onChange:handleCodeChange,placeholder:\"Enter your recursive function here...\",spellCheck:false})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Function Parameters:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:params,onChange:handleParamsChange,placeholder:\"e.g., 5 or [1,2,3], 2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Global Variables (optional):\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:globalVars,onChange:handleGlobalVarsChange,placeholder:\"e.g., const memo = {};\",rows:2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editor-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn--primary\",onClick:handleRun,disabled:isRunning,children:[/*#__PURE__*/_jsx(Play,{size:18}),isRunning?'Running...':'Run']}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn--secondary\",onClick:handleReset,children:[/*#__PURE__*/_jsx(RotateCcw,{size:18}),\"Reset\"]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"execution-status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status status--error\",children:error})})]})]})]});}export default CodePanel;","map":{"version":3,"names":["React","useRecursion","algorithmsData","executionSimulator","Play","RotateCcw","jsx","_jsx","jsxs","_jsxs","CodePanel","state","dispatch","ActionTypes","code","params","globalVars","selectedAlgorithm","isRunning","error","handleAlgorithmChange","e","type","SELECT_ALGORITHM","payload","target","value","handleCodeChange","SET_CODE","handleParamsChange","SET_PARAMS","handleGlobalVarsChange","SET_GLOBAL_VARS","handleRun","trim","SET_ERROR","START_EXECUTION","setTimeout","executionResult","simulateExecution","SET_TREE_DATA","message","handleReset","RESET_EXECUTION","className","children","onChange","map","algorithm","name","placeholder","spellCheck","rows","onClick","disabled","size"],"sources":["D:/Projects/git/main_vercel/Recursion_visual/frontend1/src/components/CodePanel.js"],"sourcesContent":["import React from 'react';\nimport { useRecursion } from '../context/RecursionContext';\nimport { algorithmsData } from '../utils/algorithmsData';\nimport { executionSimulator } from '../utils/executionSimulator';\nimport { Play, RotateCcw } from 'lucide-react';\n\nfunction CodePanel() {\n  const { state, dispatch, ActionTypes } = useRecursion();\n  const { code, params, globalVars, selectedAlgorithm, isRunning, error } = state;\n\n  const handleAlgorithmChange = (e) => {\n    dispatch({ type: ActionTypes.SELECT_ALGORITHM, payload: e.target.value });\n  };\n\n  const handleCodeChange = (e) => {\n    dispatch({ type: ActionTypes.SET_CODE, payload: e.target.value });\n  };\n\n  const handleParamsChange = (e) => {\n    dispatch({ type: ActionTypes.SET_PARAMS, payload: e.target.value });\n  };\n\n  const handleGlobalVarsChange = (e) => {\n    dispatch({ type: ActionTypes.SET_GLOBAL_VARS, payload: e.target.value });\n  };\n\n  const handleRun = () => {\n    if (!code.trim()) {\n      dispatch({ type: ActionTypes.SET_ERROR, payload: 'Please enter a function to execute' });\n      return;\n    }\n    if (!params.trim()) {\n      dispatch({ type: ActionTypes.SET_ERROR, payload: 'Please enter function parameters' });\n      return;\n    }\n\n    // Clear any previous errors\n    dispatch({ type: ActionTypes.SET_ERROR, payload: null });\n\n    // Start execution\n    dispatch({ type: ActionTypes.START_EXECUTION });\n\n    // Simulate execution with a delay for realism\n    setTimeout(() => {\n      try {\n        const executionResult = executionSimulator.simulateExecution(\n          code, \n          params, \n          selectedAlgorithm\n        );\n\n        dispatch({ \n          type: ActionTypes.SET_TREE_DATA, \n          payload: executionResult \n        });\n      } catch (error) {\n        dispatch({ \n          type: ActionTypes.SET_ERROR, \n          payload: error.message \n        });\n      }\n    }, 1000);\n  };\n\n  const handleReset = () => {\n    dispatch({ type: ActionTypes.RESET_EXECUTION });\n  };\n\n  return (\n    <div className=\"panel code-panel\">\n      <div className=\"panel-header\">\n        <h3>Code Editor</h3>\n        <div className=\"template-selector\">\n          <label className=\"form-label\">Template:</label>\n          <select \n            className=\"form-control\"\n            value={selectedAlgorithm}\n            onChange={handleAlgorithmChange}\n          >\n            {algorithmsData.map(algorithm => (\n              <option key={algorithm.name} value={algorithm.name}>\n                {algorithm.name}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"panel-body\">\n        <div className=\"code-editor-container\">\n          <textarea\n            className=\"code-editor form-control\"\n            value={code}\n            onChange={handleCodeChange}\n            placeholder=\"Enter your recursive function here...\"\n            spellCheck={false}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\">Function Parameters:</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={params}\n            onChange={handleParamsChange}\n            placeholder=\"e.g., 5 or [1,2,3], 2\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\">Global Variables (optional):</label>\n          <textarea\n            className=\"form-control\"\n            value={globalVars}\n            onChange={handleGlobalVarsChange}\n            placeholder=\"e.g., const memo = {};\"\n            rows={2}\n          />\n        </div>\n\n        <div className=\"editor-actions\">\n          <button\n            className=\"btn btn--primary\"\n            onClick={handleRun}\n            disabled={isRunning}\n          >\n            <Play size={18} />\n            {isRunning ? 'Running...' : 'Run'}\n          </button>\n\n          <button\n            className=\"btn btn--secondary\"\n            onClick={handleReset}\n          >\n            <RotateCcw size={18} />\n            Reset\n          </button>\n\n          {error && (\n            <div className=\"execution-status\">\n              <span className=\"status status--error\">{error}</span>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CodePanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}